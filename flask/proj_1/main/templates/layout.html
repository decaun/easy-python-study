<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='main.css')}}">
    
    {% if title_var %}
        <title>Spotilab - {{ title_var }}</title>
    {% else %}
        <title>Spotilab</title>
    {% endif %}
</head>
<body>  
    <div class="d-flex flex-column align-self-end">
        <ul class="nav justify-content-end nav-pills">
            <li class="nav-item">
                <a class="nav-link active text-white bg-dark" href="#">Active</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark" href="#">Link</a>
            </li>
            <li class="nav-item dropdown bg-white">
                <a class="nav-link dropdown-toggle text-dark bg-light" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item " href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                            <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Separated link</a>
                    </div>
                </li>
                <li class="nav-item">
                  <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                </li>
        </ul>
        <div class="container" style="width: 10%;">
            <label for="formControlRange">Volume</label>
            <input type="range" class="form-control-range w-3" id="formControlRange">
        </div>
    </div>

    <div class="d-flex align-items-center justify-content-center p-4">
        <div class="d-flex flex-column ">
            <h1>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren,</h1>
            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
        </div>
    </div>


    <div class="container-fluid fixed-left overflow-auto">
        <div class="row">
            <div class="col-2">
                <div class="d-flex flex-column">
                    <div class="row justify-content-center">
                        <form  class="form-inline my-2 my-lg-0 justify-content-center ">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="button-addon2">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Search</button>
                                    </div>
                            </div>
                        </form>
                    </div>
                    <div class="row justify-content-center">
                    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                        <li class="nav-item">
                          <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Home</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Profile</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Contact</a>
                        </li>
                        
                      </ul>
                    </div>
                    <!--<p>Lorem ipsum dolor sit amet</p>-->
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                            <div class="custom-scrollbar-playlist rounded">
                            <div class="list-group">
                                {% for playlist in playlists %}
                                <a href="/{{ playlist.id }}" class="list-group-item list-group-item-action {% if playlist.id == playlist_selected.id %}text-light bg-dark{% endif %}">{{ playlist.title }}
                                    <div class="badge badge-primary text-wrap  {% if playlist.id == playlist_selected.id %}text-dark bg-light{% else %}text-light bg-dark{% endif %}" style="width: auto;">#default</div>
                                </a>
                                
                                {% endfor %}
                                    {% if current_user.is_authenticated %}
                                    {% for playlist in range(0,spotify.playlists['items']|length) %}
                                    <a href="#" onclick="return false;" class="list-group-item list-group-item-action {% if playlist.id == playlist_selected.id %}text-light bg-dark{% endif %}">{{ spotify.playlists['items'][playlist]['name'] }}
                                        <div class="badge badge-primary text-wrap  {% if playlist.id == playlist_selected.id %}text-dark bg-light{% else %}text-light bg-dark{% endif %}" style="width: auto;">#default</div>
                                    </a>
                                    {% endfor %}
                                {% endif %}
                                
                            </div>
                        </div>
                    </div>
                        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">2nd</div>
                        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">3rd</div>
                      </div>
                </div>
            </div>
            <div class="col-7">
                {% block playlist_block %}
                {% endblock %}
                {% block create_comment %}
                {% endblock  %}
                {% block comment_block %}
                {% endblock %}
            </div>
            <div class="col">
                <h1>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</h1>
            </div>
        </div>
        
        <div class="alert alert-light" role="alert">
                A simple light alert with <a href="#" class="alert-link">an example link</a>. Give it a click if you like.
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
  <script>
    window.onSpotifyWebPlaybackSDKReady = () => {
      const token = 'BQDFc8lxRG8vlMRVyn7Ix8jltNFqcrhYZgHU-Jm8Y3Ci1ku4MKKzxIVi01XFFaBG0c-FaqyxqJ20C9OeX-IfqggJqxsBMsv-OG-c0b0PE4dOuGD9_hekzbD1B8aOfeQ5ZpgfC8j7KMIftLwN7IKM7JeRrVvlJ2v08vE2LpUTlw';
      const player = new Spotify.Player({
        name: 'Spotilab Web',
        getOAuthToken: cb => { cb(token); }
      });

      // Error handling
      player.addListener('initialization_error', ({ message }) => { console.error(message); });
      player.addListener('authentication_error', ({ message }) => { console.error(message); });
      player.addListener('account_error', ({ message }) => { console.error(message); });
      player.addListener('playback_error', ({ message }) => { console.error(message); });

      // Playback status updates
      player.addListener('player_state_changed', state => { console.log(state); });

      // Ready
      player.addListener('ready', ({ device_id }) => {
        console.log('Ready with Device ID', device_id);
      });

      // Not Ready
      player.addListener('not_ready', ({ device_id }) => {
        console.log('Device ID has gone offline', device_id);
      });

      // Connect to the player!
      player.connect();
    };
  </script>
</body>
</html>